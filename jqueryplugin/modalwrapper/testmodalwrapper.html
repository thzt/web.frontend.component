<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <title>test modal wrapper</title>
    <link href="../../bootstrap/css/bootstrap.css" rel="stylesheet" type="text/css" />
    <link href="modalwrapper.css" rel="stylesheet" type="text/css" />
    <script src="../../jquery/jquery-1.11.1.js" type="text/javascript"></script>
    <script src="../../bootstrap/js/bootstrap.js" type="text/javascript"></script>
    <script src="../../library/pluginmanager/pluginmanager.js" type="text/javascript"></script>
    <script src="modalwrapper_init.js" type="text/javascript"></script>
    <script src="modalwrapper_confirm.js" type="text/javascript"></script>
    <script src="modalwrapper_alert.js" type="text/javascript"></script>
    
    <style>
        .big-button{
        	width:100px;
        	height:36px;
        	line-height:36px;
        	text-align: center;
        	color: #ffffff;
            background-color: #4B739A;
        	display:inline-block;
        	cursor:pointer;
        }
    </style>
</head>
<body>
    <input id="button1" type="button" value="testModal" />
    <input id="button2" type="button" value="testConfirm" />
    <input id="button3" type="button" value="testAlert" />
    <div id="container"></div>
    <script>
        $(function () {

            $('#button1').click(function () {
                $('#container').modalWrapper('init', {
                    width: '800px',
                    title: {
                        text: 'Modal Dialog',
                        closeClick: function (closeModal) {
                            alert();
                            closeModal();
                        }
                    },
                    body: '<div style="height:500px;">内容</div>',
                    footer: {
                        html:
                                '<span class="big-button">\
                                    提交\
                                </span>\
                                <span class="big-button">\
                                    关闭\
                                </span>',
                        selector: '>span',
                        eventType: 'click',
                        handler: function (closeModal) {
                            var $button = $(this),
                                index = $button.index();

                            alert(index);
                            closeModal();
                        }
                    }
                });
            });

            $('#button2').click(function () {
                $().modalWrapper('confirm', {
                    title: 'Confirm Dialog',
                    message: '确定提交吗？',
                    buttonStyle:'big-button',
                    yes: {
                        text: 'YES',
                        callback: function (closeConfirm) {
                            alert(true);
                            closeConfirm();
                        }
                    },
                    no: {
                        text: 'NO',
                        callback: function (closeConfirm) {
                            alert(false);
                            closeConfirm();
                        }
                    }
                });
            });

            $('#button3').click(function() {
                $().modalWrapper('alert', {
                    title: 'Alert Dialog',
                    message: '提交成功了。',
                    buttonStyle:'big-button',
                    yes: {
                        text: 'YES',
                        callback: function (closeAlert) {
                            alert();
                            closeAlert();
                        }
                    }
                });
            });
        });
    </script>
</body>
</html>
