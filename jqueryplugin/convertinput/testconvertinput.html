<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <title>test convert input</title>
    <script src="../../jquery/jquery-1.11.1.js"></script>
    <script src="../../library/pluginmanager/pluginmanager.js"></script>
    <script src="convertinput.js" type="text/javascript"></script>
    <script src="convertinput_config.js" type="text/javascript"></script>
</head>
<body>
    <input id="text1" type="text" data-percentage-convert />
    <span id="span1" data-thousand-unit></span>
    <input id="button1" type="button" value="getValue" />
    <script>
        $(function () {
            $('#text1')
                .on('focus', function () {
                    var $input = $(this),
                        getterValue = $input.convertInput('getValue');

                    $input.val(getterValue);
                    setTimeout(function () {
                        $input[0].select();
                    }, 0);
                })
                .on('blur', function () {
                    var $input = $(this),
                        value = $input.val();

                    $input.convertInput('setValue', {
                        value: value
                    });
                })
                .convertInput('setValue', {
                    value: 0.1
                });

            $('#span1').convertInput('setValue', {
                value: 12345678
            });

            $('#button1').click(function () {
                var data1 = $('#text1').convertInput('getValue'),
                    data2 = $('#span1').convertInput('getValue');

                alert(data1);
                alert(data2);
            });
        });
    </script>
</body>
</html>
