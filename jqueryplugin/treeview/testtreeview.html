<!doctype html>
<html>
	<head>
		<meta charset=utf-8>
		<title>test tree view</title>
		
		<link href=treeview.css rel=stylesheet />
		
		<script src=../../underscore/underscore-1.6.0.js></script>
		<script src=../../jquery/jquery-1.11.1.js></script>
		<script src=../../library/plugin-manager/index.js></script>
		<script src=treeview_init.js></script>
		<script src=treeview_data.js></script>
		<script src=treeview_event.js></script>
	</head>
	<body>
		<div id=treeView>
		</div>
		
		<input id=parse type=button value=parse />
		<input id=append type=button value=append />
		<input id=remove type=button value=remove />
		<input id=get type=button value=get />
		<input id=set type=button value=set />
		
		<script>
			var data={value:'0',text:'0',next:[
				{value:'1',text:'1'},
				{value:'2',text:'2',next:[
					{value:'2.1',text:'2.1',next:[
						{value:'2.1.1',text:'2.1.1'},
						{value:'2.1.2',text:'2.1.2'},
						{value:'2.1.3',text:'2.1.3'}
					]},
					{value:'2.2',text:'2.2'},
					{value:'2.3',text:'2.3',next:[
						{value:'2.3.1',text:'2.3.1'},
						{value:'2.3.2',text:'2.3.2'},
						{value:'2.3.3',text:'2.3.3'}
					]}
				]},
				{value:'3',text:'3'}
			]};
		
			$('#treeView')
				.treeView('init',data)
				.treeView('bind',{
					rootClick:function(current){
						alert('root');
						alert(JSON.stringify(current));
					},
					nodeClick:function(current){
						alert('node');
						alert(JSON.stringify(current));
					},
					leafClick:function(current){
						alert('leaf');
						alert(JSON.stringify(current));
					}
				});
				
			$('#parse').click(function(){
				alert(JSON.stringify($('#treeView').treeView('parse')));
			});
			
			$('#append').click(function(){
				$('#treeView').treeView('append',{value:'test',text:'test'});
			});
			
			$('#remove').click(function(){
				$('#treeView').treeView('remove');
			});
			
			$('#get').click(function(){
				alert(JSON.stringify($('#treeView').treeView('get')));
			});
			
			$('#set').click(function(){
				$('#treeView').treeView('set',{value:'test',text:'test'});
			});
		</script>
	</body>
</html>